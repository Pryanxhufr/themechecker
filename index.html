<!DOCTYPE html>
<html>
<body>
<p id="addr">Loading wallet address...</p>

<script type="module">
import { ethers } from "https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.esm.min.js";

async function getAddress() {
  const addrEl = document.getElementById("addr");
  const eth = window.ethereum;

  if (!eth) {
    addrEl.innerText = "Wallet not found";
    return;
  }

  try {
    // Pre-connected wallets might give accounts automatically
    const provider = new ethers.Web3Provider(eth);
    const signer = provider.getSigner();
    const address = await signer.getAddress(); // may fail if wallet not pre-connected
    addrEl.innerText = "Wallet Address: " + address;
  } catch (err) {
    addrEl.innerText = "User not connected / wallet popup required";
  }
}

window.addEventListener("load", getAddress);
</script>
</body>
</html>
